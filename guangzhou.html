<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>广州地铁客流</title>
    <!-- 引入 ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        #chart { width: 100%; height: 600px; }
    </style>
</head>
<body>
    <div id="chart"></div>
    <script>
        var chart = echarts.init(document.getElementById('chart'));
        var option = {
            title: { text: '广州:近10周地铁网络客流', left: 'center' },
            tooltip: { trigger: 'axis', axisPointer: { type: 'cross' } },
            legend: { data: ['每日数据', '同比上周', '7日移动平均'], top: 30 },
            grid: { left: '10%', right: '10%', bottom: '15%', containLabel: true },
            toolbox: { 
                feature: { saveAsImage: { title: '保存为图片' } },
                right: 20, top: 20 
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['02-25','02-26','02-27','02-28','03-01','03-02','03-03','03-04','03-05','03-06','03-07','03-08','03-09','03-10','03-11','03-12','03-13','03-14','03-15','03-16','03-17','03-18','03-19','03-20','03-21','03-22','03-23','03-24','03-25','03-26','03-27','03-28','03-29','03-30','03-31','04-01','04-02','04-03','04-04','04-05','04-06','04-07','04-08','04-09','04-10','04-11','04-12','04-13','04-14','04-15','04-16','04-17','04-18','04-19','04-20','04-21','04-22','04-23','04-24','04-25','04-26','04-27','04-28','04-29','04-30','05-01','05-02','05-03','05-04'],
                axisLabel: {
                    formatter: function(value) {
                        var showLabels = ['03-03', '03-10', '03-17', '03-24', '03-31', '04-07', '04-14', '04-21', '04-28', '05-04'];
                        return showLabels.includes(value) ? value : '';
                    }
                }
            },
            yAxis: [
                { type: 'value', name: '客流（万人次）', position: 'left' },
                { type: 'value', name: '同比上周', position: 'right', axisLabel: { formatter: '{value}%' }, splitLine: { show: false } }
            ],
            series: [
                { name: '每日数据', type: 'line', data: [910.3,906.7,934.3,1070.0,957.8,870.7,911.1,835.9,878.2,893.5,1008.5,929.7,860.3,966.7,971.6,965.3,936.6,1063.6,773.8,915.8,939.6,939.3,953.3,955.4,1080.5,984.7,884.7,941.0,931.3,932.6,938.4,1037.5,852.9,791.6,916.8,921.9,948.9,1116.1,892.9,729.6,849.0,940.7,932.9,929.6,935.5,1048.9,697.4,842.3,955.1,973.3,983.0,978.5,1094.5,912.8,884.9,962.9,952.3,939.5,918.3,980.9,833.0,895.1,939.5,980.0,1198.1,1045.6,1077.5,929.9,879.2] },
                { name: '同比上周', type: 'line', yAxisIndex: 1, lineStyle: { type: 'dashed' }, data: [-3.02,-3.99,-1.81,3.08,3.18,4.71,-3.67,-8.17,-3.14,-4.37,-5.75,-2.93,-1.19,6.10,16.23,9.92,4.82,5.46,-16.77,6.45,-2.80,-3.32,-1.24,2.01,1.59,27.26,-3.40,0.15,-0.85,-2.17,-1.78,-3.98,-13.38,-10.52,-2.57,-1.01,1.75,18.94,-13.94,-14.46,7.25,2.61,1.19,-2.03,-16.18,17.47,-4.41,-0.79,1.53,4.33,5.74,4.60,4.35,30.89,5.08,0.82,-2.16,-4.43,-6.15,-10.38,-8.74,1.15,-2.43,2.91,27.53,13.86,9.85,11.63,-1.78] },
                { name: '7日移动平均', type: 'line', lineStyle: { type: 'dotted' }, data: [935.69,930.30,927.84,932.41,936.63,942.23,937.27,926.64,922.57,916.74,907.96,903.94,902.46,910.40,929.79,942.23,948.39,956.26,933.99,941.91,938.04,933.43,931.71,934.40,936.81,966.94,962.50,962.70,961.56,958.60,956.17,950.03,931.20,917.90,914.44,913.10,915.43,940.81,920.16,902.54,910.74,914.16,915.73,912.97,887.17,909.46,904.86,903.90,905.96,911.73,919.36,925.50,932.01,962.79,968.87,969.99,966.99,960.77,952.17,935.94,924.54,926.00,922.66,926.61,963.56,981.74,995.54,1009.39,1007.11] }
            ]
        };
        chart.setOption(option);
    </script>
</body>
</html>